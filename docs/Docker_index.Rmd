---
title: "Docker"
author: "JAT"
date: "`r format(Sys.time(), '%d %B %Y')`"
output:
  html_document:
    css: styles.css
    toc: true
    toc_float: true
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


# Intro:

Nowadays there are a lot of businesses doing their transformation towards data, cloud, AI and so on. Once you dig in a little bit, you find a fundamental pillar on all of this are very powerfull servers that can do the heavy lifting on the computational power required to run all of this.

Linux and specifically docker containers that will be discussed here are an inevitable topic through this journey and with this really simple web I would like to make it as simple as possible for new people trying out this technologies.

I would like to give a reference for my other website that covers linux topics, since its closely related on how docker works: <https://reisikei.github.io/Linux/>

Remember that whatever application you get to run in Docker in your PC, you could make it run in a small low power devide such a raspberry pi, or to the mentioned powerful super computers that will train our latest algorithms on the cloud.


## Install Docker

To install docker, docker compose and portainer, simply copy the following code chunks in your terminal:


Option 1:

```
### INSTALL DOCKER ### 

sudo apt update
sudo apt install apt-transport-https ca-certificates curl software-properties-common -y
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu bionic stable"

sudo apt update -y

apt-cache policy docker-ce
sudo apt install docker-ce

sudo systemctl status docker

## INSTALL DOCKER COMPOSE ##

sudo apt install docker-compose -y

## #INSTALL PORTAINER
docker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce

#Test that docker works with this image:
#docker run hello-world
```

```{r, echo=FALSE} 
knitr::asis_output("Last time tested on Sept 2021 \U2714")
```

Option 2:

On [this github repository](https://github.com/reisikei/docker/blob/main/1%20Docker%20%26%20%20Docker%20compose%20%26%20Portainer), there is the possibility to download and install directly a bash program with all the previous commands by typing only this on the terminal:

```
wget  -cO - https://raw.githubusercontent.com/reisikei/docker/main/1%20Docker%20%26%20%20Docker%20compose%20%26%20Portainer > docker_install.sh && chmod 775 docker_install.sh && sudo ./docker_install.sh
```

```{r, echo=FALSE} 
knitr::asis_output("Last time tested on Oct 2021 \U2714")
```

### Torrents within Docker

#### Qbittorrent

#### Transmission Telegram Bot

### Nextcloud

In linux systems it is as simple as running the following commands in the terminal after having installed docker:

```
sudo docker run -d -v ~/nextcloud:/var/www/html -p 8080:80 --name nextcloud_container nextcloud 

```

Remember to update the list of trusted domains so that other devices can log, we can see the current list with:

```
sudo docker exec --user www-data nextcloud_container php occ config:system:get trusted_domains
```

To add a new domain/ internal ip, simply:

```
sudo docker exec --user www-data nextcloud_container php occ config:system:set trusted_domains 7 --value 192.168.1.30:8080

```

You can check your device internal IP adress with:

```
hostname -I
```

To access nextcloud while being out of home, simply configure your VPN, for example with tailscale, and add the internal Ip address assign by tail scale as shown two commands before.

As this would fall under general linux systems, the guide sits on: <https://reisikei.github.io/Linux/#Tailscale>

To make the data part of the docker installation read/write on a external hard drive is a key part that most of us could be interested at some point, for that we can:


## RPi projects


The Raspberry Pi is a tiny and affordable computer (ARM based) that you can use to learn programming through fun, practical projects. 

It can run Linux distros like: Debian, OpenMediaVault or most commonly Raspbian OS.

Check out some recommended setups and projects (involving DOcker as well) on [my repo](https://reisikei.github.io/RPi/)



